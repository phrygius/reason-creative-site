<!doctype html>
<html>
	<head>
		<title>Test</title>
		<meta charset="utf-8" />
		<link href='http://fonts.googleapis.com/css?family=Lato:400,300,700,400italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/style.css" />
		<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
	</head>
	<body class="home">
		<div class="main-container">
			<div class="background-container" role="presentation">
				<img src="img/nebula.jpg" alt="background" />
			</div>
			<div class="content-container">
				<div class="content">
					<div class="logo-container">
						<img class="logo" src="img/logo-green.svg" alt="Reason Creative" />
					</div>
					<div class="heading-services-container">
						<h1 class="main-heading">
							<span class="heading-name">Reason Creative</span>
							<span class="heading-after">Web and graphic <br/>design in Brooklyn</span>
						</h1>
						<div class="services">
							<ul class="services-list">
								<li class="services-list-item">Web design</li>
								<li class="services-list-item">Front-end develop&shy;ment</li>
								<li class="services-list-item">Custom Wordpress &amp; Craft develop&shy;ment</li>
								<li class="services-list-item">Logos</li>
								<li class="services-list-item">Business cards</li>
								<li class="services-list-item">Posters</li>
							</ul>
						</div>
					</div>
					<hr />
					<div class="portfolio-container">
						<div class="portfolio-item">
							<div class="portfolio-content">
								<div class="portfolio-preview" style="background-image: url(img/portfolio/musho1.jpg);"></div>
								<div class="info">
									<h2>Musho</h2>
									<p>M.A.D. needed a portfolio website. The firm has a wonderful collection of past work with many impressive photos of interiors.</p>
									<p><a class="button" href="#">View Project</a></p>
								</div>
							</div>
						</div>
						<div class="portfolio-item">
							<div class="portfolio-content">
								<div class="portfolio-preview" style="background-image: url(img/portfolio/century-center-top.jpg);"></div>
								<div class="info">
									<h2>Century Center</h2>
									<p>Century Center is a pair of office buildings with retail space and a lot of other amenities in Arlington, VA. I worked with the real estate brokerage Cushman &amp Wakefield to promote the office space.</p>
									<p><a class="button" href="#">View Project</a></p>
								</div>
							</div>
						</div>
						<div class="portfolio-item">
							<div class="portfolio-content">
								<div class="portfolio-preview" style="background-image: url(img/portfolio/alycia-home-page.jpg);"></div>
								<div class="info">
									<h2>Alycia Rockey&lsquo;s Portfolio</h2>
									<p>Alycia needed a visual identity to tie her personal brand, social channels, and portfolio together.</p>
									<p><a class="button" href="#">View Project</a></p>
								</div>
							</div>
						</div>
						<div class="portfolio-item">
							<div class="portfolio-content">
								<div class="portfolio-preview" style="background-image: url(img/portfolio/rt-enterprises-cards-top.jpg);"></div>
								<div class="info">
									<h2>RT Enterprises</h2>
									<p> Rebecca Terry needed a logo. RT Enterprises is a consultancy that works with corporate clients so the logo needed to show the professionalism with which Rebecca works.</p>
									<p><a class="button" href="#">View Project</a></p>
								</div>
							</div>
						</div>
					</div>
				</div><!-- END .content -->
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script>
			// 
			function debounce(func, wait, immediate) {
				var timeout;
				return function() {
					var context = this, args = arguments;
					var later = function() {
						timeout = null;
						if (!immediate) func.apply(context, args);
					};
					var callNow = immediate && !timeout;
					clearTimeout(timeout);
					timeout = setTimeout(later, wait);
					if (callNow) func.apply(context, args);
				};
			};

			if(window.innerWidth > 600) {
				var onMouseMove = debounce(function(event) {
					var left = event.pageX, 
						top = event.pageY,
						width = window.innerWidth,
						height = window.innerHeight
						container = $('.background-container');
					if(width > 0 
						&& height > 0 
						&& container.length > 0
						&& !$('body').hasClass('scrolling')
					) {
						var leftPercent = Math.floor((left / width) * 100),
							topPercent = Math.floor((top / height) * 100);
						container.css({
							top: (0 - topPercent / 5) + 'px',
							left: (0 - leftPercent / 5) + 'px'
						});
					}
				}, 10);
				$('body').on('mousemove', onMouseMove);
			}

			var scrollTimeout = null;
			var onScroll = debounce(function() {
				clearTimeout(scrollTimeout);
				$('body').addClass('scrolling');
				scrollTimeout = setTimeout(function() {
					$('body').removeClass('scrolling');
				}, 1000);
			}, 50);

			var portfolioContainer = $('.portfolio-container');
			if(portfolioContainer.length === 1) {
				console.log('adding');
				portfolioContainer.on('mouseover', '.portfolio-item', function() {
					$(this).siblings().removeClass('active');
					$(this).addClass('active');
				});
				portfolioContainer.on('mouseleave', '.portfolio-item', function() {
					$(this).removeClass('active');
				});
			}
		</script>
	</body>
</html>